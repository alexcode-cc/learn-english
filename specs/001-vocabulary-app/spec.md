# Feature Specification: 背單字軟體

**Feature Branch**: `001-vocabulary-app`  
**Created**: 2025-01-27  
**Last Updated**: 2025-01-27  
**Status**: Draft  
**Input**: User description: "設計一個背單字軟體,畫面要美觀大方且富有現代感,單字清單使用CSV匯入,單字清單僅有單字字彙,單字解釋與單字發音請依照此單字字彙搜尋網路資源補足單字解釋與單字發音,單字解釋要有中文解釋與英文解釋"

## User Scenarios & Testing *(mandatory)*

### User Story 1 - 瀏覽與學習單字卡片 (Priority: P1)

使用者可以開啟應用程式，瀏覽單字卡片並進行學習。系統會顯示單字、發音、中文解釋、例句等資訊，使用者可以翻轉卡片查看詳細內容，並標記已學會或需要複習的單字。

**Why this priority**: 這是核心功能，沒有這個功能就無法進行背單字的核心任務。這是 MVP 的最小可行產品，必須優先實現。

**Independent Test**: 可以完全獨立測試，使用者開啟應用程式後能夠看到單字卡片，點擊卡片可以翻轉查看詳細資訊，並能夠標記學習狀態。這個功能可以獨立提供價值，即使沒有其他功能也能讓使用者開始背單字。

**Acceptance Scenarios**:

1. **Given** 應用程式已開啟且包含單字資料, **When** 使用者進入主畫面, **Then** 系統顯示單字卡片列表，每個卡片顯示單字、詞性、簡短中文解釋
2. **Given** 使用者正在瀏覽單字卡片, **When** 使用者點擊或觸摸卡片, **Then** 卡片翻轉顯示完整資訊（發音、詳細解釋、例句、同義詞等）
3. **Given** 使用者正在查看單字詳細資訊, **When** 使用者再次點擊卡片或點擊返回按鈕, **Then** 卡片翻轉回正面顯示
4. **Given** 使用者正在學習單字, **When** 使用者點擊「已學會」按鈕, **Then** 系統標記該單字為已學會狀態，並從當前學習列表中移除或標記
5. **Given** 使用者正在學習單字, **When** 使用者點擊「需要複習」按鈕, **Then** 系統標記該單字為需要複習，並加入複習列表

---

### User Story 2 - CSV 匯入單字與自動補足資訊 (Priority: P1)

使用者可以透過 CSV 檔案匯入單字清單，系統會自動從網路資源搜尋並補足每個單字的詳細資訊。CSV 檔案僅包含單字字彙，系統會自動取得中文解釋、英文解釋和發音等完整資訊。

**Why this priority**: CSV 匯入是主要的資料輸入方式，讓使用者能夠快速建立大量單字庫。自動補足功能減少手動輸入的工作，提升使用效率。這是核心功能的重要組成部分，必須優先實現。

**Independent Test**: 可以完全獨立測試，使用者上傳包含單字字彙的 CSV 檔案後，系統自動解析檔案、搜尋網路資源補足每個單字的資訊（中文解釋、英文解釋、發音），並顯示匯入進度和結果。這個功能可以獨立運作，不依賴其他功能。

**Acceptance Scenarios**:

1. **Given** 使用者準備好包含單字字彙的 CSV 檔案, **When** 使用者選擇「匯入 CSV」功能並上傳檔案, **Then** 系統解析 CSV 檔案，識別所有單字字彙，並顯示將要匯入的單字數量
2. **Given** 系統已識別 CSV 中的單字字彙, **When** 使用者確認匯入, **Then** 系統開始自動搜尋網路資源，為每個單字補足中文解釋、英文解釋和發音資訊
3. **Given** 系統正在自動補足單字資訊, **When** 搜尋過程中, **Then** 系統顯示進度指示器，顯示已處理的單字數量和總數量，以及當前正在處理的單字
4. **Given** 系統已完成單字資訊補足, **When** 所有單字資訊都已取得, **Then** 系統將所有單字匯入到使用者的單字庫中，並顯示匯入成功訊息和統計資訊（成功匯入數量、失敗數量等）
5. **Given** 系統在搜尋單字資訊時遇到問題（如網路錯誤、找不到資料等）, **When** 某些單字無法取得完整資訊, **Then** 系統標記這些單字為「資訊不完整」，仍將它們匯入單字庫，並提供後續手動補充或重新搜尋的選項
6. **Given** 使用者匯入的 CSV 中包含重複的單字, **When** 系統處理匯入, **Then** 系統檢測重複單字，提示使用者選擇保留現有單字或更新為新資料，或自動跳過重複項目

---

### User Story 3 - 管理個人單字庫 (Priority: P2)

使用者可以新增、編輯、刪除自己的單字，建立個人化的單字庫。使用者可以為單字添加自訂標籤、筆記，並組織成不同的單字集。

**Why this priority**: 個人化單字庫讓使用者能夠根據自己的學習需求建立專屬內容，提升學習效果和使用者黏著度。雖然可以先用預設單字庫開始，但個人化功能是重要的差異化價值。

**Independent Test**: 可以獨立測試，使用者能夠新增單字（輸入英文、中文解釋、例句等），編輯現有單字內容，刪除不需要的單字，並為單字添加標籤和筆記。這個功能可以獨立運作，不依賴其他功能。

**Acceptance Scenarios**:

1. **Given** 使用者想要新增單字, **When** 使用者點擊「新增單字」按鈕並填寫單字資訊（英文、中文解釋、例句等）, **Then** 系統儲存新單字到使用者的單字庫中
2. **Given** 使用者正在瀏覽單字列表, **When** 使用者點擊某個單字的「編輯」按鈕並修改內容, **Then** 系統更新該單字的資訊
3. **Given** 使用者正在瀏覽單字列表, **When** 使用者點擊某個單字的「刪除」按鈕並確認, **Then** 系統從單字庫中移除該單字
4. **Given** 使用者正在編輯單字, **When** 使用者為單字添加標籤（如「重要」、「困難」等）, **Then** 系統儲存標籤資訊，並可依標籤篩選單字
5. **Given** 使用者正在查看單字, **When** 使用者添加個人筆記, **Then** 系統儲存筆記，並在該單字卡片上顯示個人筆記

---

### User Story 4 - 複習與測驗功能 (Priority: P2)

使用者可以根據學習進度進行複習，系統會根據遺忘曲線或使用者標記的複習需求，主動提醒使用者複習特定單字。使用者可以進行測驗來檢驗學習成果。

**Why this priority**: 複習是背單字的重要環節，沒有複習功能會降低學習效果。測驗功能讓使用者能夠檢驗學習成果，增強學習動機。

**Independent Test**: 可以獨立測試，系統根據單字的學習狀態和時間，顯示需要複習的單字列表。使用者可以進行測驗（選擇題、填空等），系統記錄測驗結果。這個功能可以獨立運作，提供複習和測驗的完整流程。

**Acceptance Scenarios**:

1. **Given** 使用者有標記為「需要複習」的單字, **When** 使用者進入複習模式, **Then** 系統顯示需要複習的單字列表，優先顯示較久未複習的單字
2. **Given** 系統追蹤單字的學習時間, **When** 單字達到複習時間點（根據遺忘曲線）, **Then** 系統將該單字加入複習提醒列表
3. **Given** 使用者想要進行測驗, **When** 使用者選擇測驗模式（選擇題、填空、拼字等）並開始測驗, **Then** 系統隨機出題，顯示單字或中文解釋，要求使用者選擇或輸入答案
4. **Given** 使用者正在進行測驗, **When** 使用者提交答案, **Then** 系統立即顯示正確答案和解釋，並記錄答對或答錯
5. **Given** 使用者完成測驗, **When** 測驗結束, **Then** 系統顯示測驗結果（正確率、答錯的單字列表），並更新單字的學習狀態

---

### User Story 5 - 學習進度追蹤與統計 (Priority: P3)

使用者可以查看自己的學習進度，包括已學會的單字數量、學習天數、每日學習時間、測驗成績趨勢等統計資訊。系統提供視覺化的進度圖表。

**Why this priority**: 進度追蹤和統計功能能夠增強使用者的學習動機，提供成就感。雖然不是核心功能，但對使用者體驗和長期使用有重要影響。

**Independent Test**: 可以獨立測試，系統收集使用者的學習活動數據（學習時間、學會的單字數、測驗成績等），並以圖表或列表形式展示統計資訊。使用者可以查看不同時間段的學習進度。

**Acceptance Scenarios**:

1. **Given** 使用者已經學習一段時間, **When** 使用者進入統計頁面, **Then** 系統顯示總學習天數、已學會單字數、總學習時間等基本統計
2. **Given** 系統記錄每日學習活動, **When** 使用者查看學習趨勢圖表, **Then** 系統顯示每日學習時間、新學會單字數的趨勢線圖
3. **Given** 使用者進行過多次測驗, **When** 使用者查看測驗成績統計, **Then** 系統顯示測驗成績趨勢、平均正確率、最常答錯的單字類型
4. **Given** 使用者想要了解學習強度, **When** 使用者查看學習熱力圖, **Then** 系統以日曆形式顯示每日學習活動，用顏色深淺表示學習強度

---

### Edge Cases

- 當使用者網路連線不穩定時，系統如何處理資料同步？系統應該支援離線模式，允許使用者在沒有網路時繼續學習，並在網路恢復時同步資料
- 當單字庫中沒有單字時，系統如何引導使用者？系統應該顯示友善的引導訊息，提示使用者如何匯入 CSV 檔案或手動新增單字
- 當使用者匯入的 CSV 檔案格式不正確時，系統如何處理？系統應該檢測格式錯誤，顯示明確的錯誤訊息，並提供 CSV 格式範例或說明文件
- 當 CSV 檔案中包含無效的單字（如拼寫錯誤、非英文單字等）時，系統如何處理？系統應該標記這些項目，在匯入結果中顯示，並允許使用者選擇是否跳過或手動修正
- 當系統搜尋網路資源時無法找到某個單字的資訊時，系統如何處理？系統應該將該單字標記為「資訊不完整」，仍匯入到單字庫，並提供後續手動補充或重新搜尋的選項
- 當系統搜尋網路資源時發生網路錯誤或超時時，系統如何處理？系統應該重試失敗的單字，顯示重試進度，並在最終結果中標記無法取得資訊的單字
- 當使用者輸入重複的單字時，系統如何處理？系統應該檢測重複並提示使用者，或提供合併選項
- 當單字資料不完整（缺少發音、例句等）時，系統如何顯示？系統應該優雅地處理缺失資料，只顯示可用的資訊，並提供補充資料或重新搜尋的選項
- 當使用者快速連續點擊卡片時，系統如何處理動畫？系統應該防止動畫衝突，確保流暢的翻轉效果
- 當測驗過程中應用程式被關閉時，系統如何保存進度？系統應該自動保存測驗進度，允許使用者恢復未完成的測驗

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: 系統必須允許使用者瀏覽單字卡片，每個卡片顯示單字、詞性、中文解釋等基本資訊
- **FR-002**: 系統必須支援卡片翻轉功能，點擊卡片可以查看詳細資訊（發音、完整解釋、例句、同義詞等）
- **FR-003**: 系統必須允許使用者標記單字的學習狀態（已學會、需要複習、未學習）
- **FR-004**: 系統必須允許使用者透過 CSV 檔案匯入單字清單，CSV 檔案格式包含單字字彙欄位
- **FR-005**: 系統必須自動從網路資源搜尋並補足匯入單字的中文解釋和英文解釋
- **FR-006**: 系統必須自動從網路資源搜尋並補足匯入單字的發音資訊
- **FR-007**: 系統必須在匯入過程中顯示進度指示器，讓使用者了解處理狀態
- **FR-008**: 系統必須處理匯入過程中可能發生的錯誤（網路錯誤、找不到資料等），並提供清楚的錯誤訊息和處理選項
- **FR-009**: 系統必須檢測並處理 CSV 匯入中的重複單字
- **FR-010**: 系統必須允許使用者手動新增單字到個人單字庫，必要欄位為單字、詞性、中文解釋；可選欄位包含音標、發音音檔連結、英文解釋、例句、標籤、筆記等資訊
- **FR-011**: 系統必須允許使用者編輯已存在的單字資訊
- **FR-012**: 系統必須允許使用者刪除單字
- **FR-013**: 系統必須允許使用者為單字添加自訂標籤和個人筆記
- **FR-014**: 系統必須支援根據標籤、學習狀態、詞性等條件篩選單字
- **FR-015**: 系統必須允許使用者對資訊不完整的單字進行重新搜尋或手動補充
- **FR-016**: 系統必須根據遺忘曲線或使用者標記，主動提醒使用者複習特定單字
- **FR-017**: 系統必須提供測驗功能，支援多種測驗模式（選擇題、填空、拼字等）
- **FR-018**: 系統必須記錄測驗結果，包括答對率、答錯的單字等
- **FR-019**: 系統必須追蹤使用者的學習進度，包括學習時間、學會的單字數、學習天數等
- **FR-020**: 系統必須以視覺化方式（圖表、統計數字）展示學習進度和統計資訊
- **FR-021**: 系統必須提供美觀、現代化的使用者介面，符合當代設計趨勢
- **FR-022**: 系統必須確保介面在不同裝置尺寸（桌面、平板、手機）上都能正常顯示和使用
- **FR-023**: 系統必須支援離線模式，允許使用者在沒有網路連線時繼續學習（CSV 匯入和自動補足功能需要網路連線）
- **FR-024**: 系統必須在網路恢復時自動同步本地資料與雲端資料
- **FR-025**: 系統必須提供資料匯出功能，允許使用者將單字庫匯出為 CSV 格式進行備份
- **FR-026**: 系統必須提供搜尋功能，允許使用者快速找到特定單字
- **FR-027**: 系統必須提供發音功能，允許使用者聆聽單字的正確發音

### Key Entities *(include if feature involves data)*

- **Word（單字）**: 代表一個英文單字，包含英文拼寫、詞性、中文解釋、英文解釋、發音、例句、同義詞、反義詞等屬性。每個單字有學習狀態（未學習、學習中、已學會）、最後學習時間、複習次數等學習相關屬性。單字有資訊完整度標記（完整、不完整），以及資料來源標記（手動新增、CSV 匯入、自動補足）
- **WordSet（單字集）**: 代表一組相關單字的集合，可以是用戶自訂的單字集或系統預設的單字集。包含名稱、描述、單字列表、建立時間等屬性
- **Tag（標籤）**: 代表用於分類單字的標籤，包含標籤名稱、顏色等屬性。單字可以有多個標籤
- **Note（筆記）**: 代表使用者為單字添加的個人筆記，包含內容、建立時間、最後修改時間等屬性
- **LearningSession（學習階段）**: 代表一次學習活動，包含開始時間、結束時間、學習的單字列表、學習時長等屬性
- **Quiz（測驗）**: 代表一次測驗活動，包含測驗類型、題目列表、答案記錄、得分、完成時間等屬性
- **QuizQuestion（測驗題目）**: 代表測驗中的一道題目，包含題目類型、題目內容、正確答案、使用者答案、是否答對等屬性
- **UserProgress（使用者進度）**: 代表使用者的整體學習進度，包含總學習天數、已學會單字數、總學習時間、連續學習天數等統計資訊

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: 使用者可以在 3 秒內開啟應用程式並看到單字卡片列表
- **SC-002**: 使用者可以在 10 秒內完成新增一個單字的所有操作（開啟新增頁面、填寫資訊、儲存）
- **SC-011**: 系統能夠在 30 秒內完成 100 個單字的 CSV 匯入和自動補足資訊流程（從上傳檔案到所有單字資訊補足完成）
- **SC-012**: 系統能夠在 5 秒內為單個單字搜尋並取得中文解釋、英文解釋和發音資訊
- **SC-013**: CSV 匯入功能能夠正確解析包含至少 1,000 個單字的 CSV 檔案
- **SC-014**: 當系統無法從網路資源取得單字資訊時，系統能夠在 3 秒內顯示清楚的錯誤訊息和處理選項
- **SC-003**: 卡片翻轉動畫流暢，動畫時間不超過 300 毫秒，使用者感知不到延遲
- **SC-004**: 90% 的使用者能夠在第一次使用時，不需要說明就能理解如何翻轉卡片和標記學習狀態
- **SC-005**: 系統能夠支援至少 10,000 個單字而不影響瀏覽和搜尋的響應速度（搜尋結果在 1 秒內顯示）
- **SC-006**: 測驗功能能夠在 5 秒內載入並開始，每道題目的答案提交後在 500 毫秒內顯示結果
- **SC-007**: 統計頁面能夠在 2 秒內載入並顯示所有圖表和數據
- **SC-008**: 離線模式下，所有核心功能（瀏覽、學習、新增單字）都能正常運作，響應時間與線上模式相同
- **SC-009**: 介面在不同裝置尺寸（320px 到 2560px 寬度）上都能正確顯示，不需要橫向滾動即可查看所有內容
- **SC-010**: 80% 的使用者認為介面設計美觀且具有現代感（透過使用者滿意度調查）

## Assumptions

- CSV 檔案格式為標準 CSV（逗號分隔值），包含至少一個「單字」或「word」欄位，編碼為 UTF-8
- 系統透過公開的網路資源（如字典 API、線上字典網站等）搜尋單字資訊
- 系統能夠從網路資源取得單字的中文解釋、英文解釋和發音資訊
- 當網路資源無法提供完整資訊時，系統會標記單字為「資訊不完整」，允許後續手動補充
- CSV 匯入和自動補足功能需要網路連線，離線模式下無法使用此功能
- 系統會快取已搜尋過的單字資訊，避免重複搜尋相同單字
- 系統支援英文到中文的單字學習（未來可擴展支援其他語言）
- 發音功能使用從網路資源取得的音檔或文字轉語音（TTS）技術
- 系統使用本地儲存作為主要資料儲存方式，雲端同步為可選功能
- 使用者不需要註冊帳號即可開始使用基本功能（進階功能可能需要帳號）
- 系統支援現代瀏覽器（Chrome、Firefox、Safari、Edge 的最新兩個版本）
